---
import type { CONTENTFUL_BACKGROUND_PAGE } from '../../types'
import clsx from '../../utils/clsx'

interface Props {
  tech: CONTENTFUL_BACKGROUND_PAGE['tech']
}

const { tech } = Astro.props
---

<ul class="list-none space-y-1 pl-1 leading-relaxed md:pl-4">
  {
    tech.data.map((background, index) => (
      <li
        class={clsx(
          'items-center justify-between xs:flex',
          index === 0 && 'mt-2',
          index % 2 ? 'bg-primary-900' : 'bg-transparent'
        )}
      >
        <p class="text-primary-25 sm:flex sm:flex-1">{background.technology}</p>
        <p
          role="presentation"
          aria-label={`${background.level} out of 5 stars`}
          class="align-middle text-sm text-primary-25 text-transparent sm:flex sm:flex-1 sm:justify-end sm:space-x-2 sm:text-md"
        >
          <span style="text-shadow: 0 0 0 rgb(0 136 255);">
            {Array(background.level).fill('⭐').join(' ')}
          </span>
          {5 - background.level > 0 ? (
            <span style="text-shadow: 0 0 0 rgb(200 200 200);">
              {Array(5 - background.level)
                .fill('⭐')
                .join(' ')}
            </span>
          ) : null}
        </p>
      </li>
    ))
  }
</ul>
